extends layout

block content
    .w3-card-4
        header.w3-container.w3-blue
            h2= title
            form.w3-container(method="POST")
                fieldset
                    legend Dados
                    label ID
                    input.w3-input.w3-round(type="text" name="id" readonly value= filme.id)

                    label Título
                    input.w3-input.w3-round(type="text" name="title" value= filme.title)

                    label Ano
                    input.w3-input.w3-round(type="text" name="year" value= filme.year)

                    fieldset 
                        label Elenco
                        #castContainer
                            each ator in filme.cast
                                if ator != ''
                                    input.w3-input.w3-round(type="text" name="cast" value=ator)

                            button.w3-btn.w3-grey(type="button" onclick="addCastField()") + Elenco

                    fieldset 
                        label Géneros
                        #genresContainer
                            each genre in filme.genres
                                if genre != ''
                                    input.w3-input.w3-round(type="text" name="genres" value=genre)

                        button.w3-btn.w3-grey(type="button" onclick="addGenreField()") + Género

                br
                button.w3-btn.w3-teal.w3-mb-2(type="submit") Submit

                script.
                    // Função para adicionar novo campo ao elenco
                    function addCastField(){
                        let container = document.querySelector('#castContainer')
                        let newField = document.createElement('input')
                        newField.type = 'text'
                        newField.name = 'cast'
                        newField.className = 'w3-input w3-round'
                        let button = container.querySelector('button')
                        container.insertBefore(newField, button)
                    }

                    // Função para adicionar novo campo aos géneros
                    function addGenreField(){
                        let container = document.querySelector('#genresContainer')
                        let newField = document.createElement('input')
                        newField.type = 'text'
                        newField.name = 'genres'
                        newField.className = 'w3-input w3-round'
                        let button = container.querySelector('button')
                        container.insertBefore(newField, button)
                    }