extends layout 

block content
    .w3-card-4.w3-margin
        header.w3-container.w3-light-blue
            h2 📚 #{book.title}#{book.series && ' (' + book.series + ')'}

        .w3-container.w3-padding
            .w3-row
                if book.coverImg
                    .w3-col.m3.w3-container.w3-center
                        .w3-card-4(style="display: inline-block; border:1px solid #ccc;")
                            img(src=book.coverImg, alt="Capa do Livro", style="max-height:300px; max-width:100%;")

                .w3-col.m9.w3-container
                    .w3-padding.w3-border-top.w3-border-bottom
                        strong Autor(es): 
                        span
                            each a, index in authors
                                a(href=`/entidades/${a._id}`)= a.name
                                if index != authors.length - 1
                                    | , 

                    .w3-padding.w3-border-bottom
                        strong 📊 Rating: 
                        span #{book.rating}

                    .w3-padding.w3-border-bottom
                        strong 📚 Formato: 
                        span #{book.bookFormat}

                    .w3-padding.w3-border-bottom
                        strong 📖 Edição: 
                        span #{book.edition}

                    .w3-padding.w3-border-bottom
                        strong 📄 Páginas: 
                        span #{book.pages}

                    .w3-padding.w3-border-bottom
                        strong 🏢 Editora: 
                        span #{book.publisher}

                    .w3-padding.w3-border-bottom
                        strong 📆 Data de Publicação: 
                        span #{book.publishDate}

                    .w3-padding.w3-border-bottom
                        strong 🌍 Língua: 
                        span #{book.language}

                    .w3-padding.w3-border-bottom
                        strong 🔢 ISBN: 
                        span #{book.isbn}

                    .w3-padding.w3-border-bottom
                        strong 💬 Descrição: 
                        p #{book.description}

                    .w3-padding.w3-border-bottom
                        strong 🏷️ Géneros: 
                        ul
                            each g in book.genres
                                li= g

                    .w3-padding.w3-border-bottom
                        strong 🧍 Personagens: 
                        ul
                            each c in book.characters
                                li= c

                    .w3-padding.w3-border-bottom
                        strong 🏆 Prémios: 
                        ul
                            each a in book.awards
                                li= a

                    .w3-padding.w3-border-bottom
                        strong 📍 Localizações: 
                        ul
                            each s in book.setting
                                li= s

                    .w3-padding.w3-border-bottom
                        strong ⭐ Número de Avaliações: 
                        span #{book.numRatings}

                    .w3-padding.w3-border-bottom
                        strong 💯 Percentagem Gostada: 
                        span #{book.likedPercent}%

                    .w3-padding.w3-border-bottom
                        strong 🧮 BBE Score: 
                        span #{book.bbeScore}

                    .w3-padding.w3-border-bottom
                        strong 🗳️ BBE Votes: 
                        span #{book.bbeVotes}

                    .w3-padding.w3-border-bottom
                        strong 💵 Preço: 
                        span #{book.price} €

                    .w3-padding.w3-border-bottom
                        strong 📊 Avaliações por estrelas:
                        ul
                            each r, i in book.ratingsByStars
                                li #{5 - i} estrelas: #{r}

        .w3-container.w3-padding(style="text-align:right")
            a.w3-button.w3-gray.w3-round(href="/") 🔙 Voltar

    footer.w3-container.w3-light-blue
        h5 📄 Generated by Guilherme Oliveira in #{d}